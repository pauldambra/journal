!function(e){function t(t){for(var n,l,a=t[0],s=t[1],u=t[2],d=0,f=[];d<a.length;d++)l=a[d],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&f.push(o[l][0]),o[l]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(c&&c(t);f.length;)f.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,a=1;a<r.length;a++){var s=r[a];0!==o[s]&&(n=!1)}n&&(i.splice(t--,1),e=l(l.s=r[0]))}return e}var n={},o={0:0},i=[];function l(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=e,l.c=n,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(r,n,function(t){return e[t]}.bind(null,n));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var a=window.webpackJsonp=window.webpackJsonp||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var c=s;i.push(["tjUo",1]),r()}({"0TlM":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cyrb53=void 0,t.cyrb53=(e,t=0)=>{let r=3735928559^t,n=1103547991^t;for(let t,o=0;o<e.length;o++)t=e.charCodeAt(o),r=Math.imul(r^t,2654435761),n=Math.imul(n^t,1597334677);return r=Math.imul(r^r>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507)^Math.imul(r^r>>>13,3266489909),4294967296*(2097151&n)+(r>>>0)}},"1/lR":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Journal=void 0;const n=r("q1tI"),o=r("7DOu"),i=()=>n.createElement("div",{style:{flexGrow:1,backgroundColor:"white",height:"96%"}});t.Journal=e=>n.createElement("div",{style:{width:"100vw",height:"100vh",backgroundColor:"grey",display:"flex",alignItems:"center"}},n.createElement(o.EntryList,{entries:e.entries}),n.createElement(i,null))},"4AsC":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JournalEntry=void 0;t.JournalEntry=class{constructor(e,t,r){this.date=e,this.title=t,this.text=r,this.id="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}}},"7DOu":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntryList=void 0;const n=r("q1tI"),o=r("0TlM"),i=r("fsJt"),l=r("q1tI"),a=e=>{const[t,r]=l.useState(!1);return n.createElement("div",{className:t?"entry selected":"entry",style:{backgroundColor:t?"red":"white"},onClick:()=>{r(!t)}},e.entry.title)},s=e=>n.createElement("div",{className:"date","data-date":e.date},n.createElement("h1",null,e.date),e.listings.map(e=>n.createElement(a,{key:o.cyrb53(e.title),entry:e})));t.EntryList=e=>{const t=e.entries.reduce((e,t)=>{const r=(n=t.date)instanceof i.DateString?n.withoutTime():new i.DateString(n).withoutTime();var n;return e[r]||(e[r]=[]),e[r].push(t),e},{});return n.createElement("div",{className:"listing",style:{borderRight:"black 5px solid",width:"10%",backgroundColor:"white",height:"96%"}},Object.keys(t).map(e=>{const r=o.cyrb53(e);return n.createElement(s,{key:r,date:e,listings:t[e]})}))}},fsJt:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateString=t.MustBeAValidDateString=void 0;class n extends Error{constructor(e){super(`"${e}" is not a valid date string. it should be an ISO-8601 string`)}}t.MustBeAValidDateString=n;t.DateString=class{constructor(e){if(Number.isNaN(Date.parse(e)))throw new n(e);this.ds=e}asString(){return this.ds}withoutTime(){return this.ds.split("T")[0]}}},tjUo:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("q1tI"),o=r("i8i4"),i=r("1/lR"),l=r("fsJt"),a=r("4AsC"),s=new a.JournalEntry(new l.DateString("2020-07-18T22:10:06Z"),"one",""),u=new a.JournalEntry(new l.DateString("2020-07-17T23:10:06Z"),"two","");o.hydrate(n.createElement(i.Journal,{entries:[s,u]}),document.getElementById("root"))}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZhbmN5SGFzaC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvam91cm5hbC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL0pvdXJuYWxFbnRyeS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW50cnlMaXN0LnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0ZVN0cmluZy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHN4Il0sIm5hbWVzIjpbIndlYnBhY2tKc29ucENhbGxiYWNrIiwiZGF0YSIsIm1vZHVsZUlkIiwiY2h1bmtJZCIsImNodW5rSWRzIiwibW9yZU1vZHVsZXMiLCJleGVjdXRlTW9kdWxlcyIsImkiLCJyZXNvbHZlcyIsImxlbmd0aCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImluc3RhbGxlZENodW5rcyIsInB1c2giLCJtb2R1bGVzIiwicGFyZW50SnNvbnBGdW5jdGlvbiIsInNoaWZ0IiwiZGVmZXJyZWRNb2R1bGVzIiwiYXBwbHkiLCJjaGVja0RlZmVycmVkTW9kdWxlcyIsInJlc3VsdCIsImRlZmVycmVkTW9kdWxlIiwiZnVsZmlsbGVkIiwiaiIsImRlcElkIiwic3BsaWNlIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiMCIsImV4cG9ydHMiLCJtb2R1bGUiLCJsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInAiLCJqc29ucEFycmF5Iiwid2luZG93Iiwib2xkSnNvbnBGdW5jdGlvbiIsInNsaWNlIiwiY3lyYjUzIiwic3RyIiwic2VlZCIsImgxIiwiaDIiLCJjaCIsImNoYXJDb2RlQXQiLCJNYXRoIiwiaW11bCIsIkVkaXRvclBhbmUiLCJzdHlsZSIsImZsZXhHcm93IiwiYmFja2dyb3VuZENvbG9yIiwiaGVpZ2h0IiwiSm91cm5hbCIsInByb3BzIiwid2lkdGgiLCJkaXNwbGF5IiwiYWxpZ25JdGVtcyIsIkVudHJ5TGlzdCIsImVudHJpZXMiLCJkYXRlIiwidGl0bGUiLCJ0ZXh0IiwidGhpcyIsImlkIiwicmVwbGFjZSIsInJhbmRvbSIsInRvU3RyaW5nIiwiRW50cnkiLCJpc1NlbGVjdGVkIiwic2V0U2VsZWN0ZWQiLCJ1c2VTdGF0ZSIsImNsYXNzTmFtZSIsIm9uQ2xpY2siLCJlbnRyeSIsIkRhdGVHcm91cCIsImxpc3RpbmdzIiwibWFwIiwibGlzdGluZ0J5RGF0ZSIsInJlZHVjZSIsImFjYyIsImRhdGVLZXkiLCJ4IiwiRGF0ZVN0cmluZyIsIndpdGhvdXRUaW1lIiwiYm9yZGVyUmlnaHQiLCJrZXlzIiwiZGsiLCJoYXNoZWREYXRlIiwiTXVzdEJlQVZhbGlkRGF0ZVN0cmluZyIsIkVycm9yIiwiZGF0ZVN0cmluZyIsInN1cGVyIiwiTnVtYmVyIiwiaXNOYU4iLCJEYXRlIiwicGFyc2UiLCJkcyIsInNwbGl0IiwiYSIsIkpvdXJuYWxFbnRyeSIsImIiLCJoeWRyYXRlIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCJdLCJtYXBwaW5ncyI6ImFBQ0UsU0FBU0EsRUFBcUJDLEdBUTdCLElBUEEsSUFNSUMsRUFBVUMsRUFOVkMsRUFBV0gsRUFBSyxHQUNoQkksRUFBY0osRUFBSyxHQUNuQkssRUFBaUJMLEVBQUssR0FJSE0sRUFBSSxFQUFHQyxFQUFXLEdBQ3BDRCxFQUFJSCxFQUFTSyxPQUFRRixJQUN6QkosRUFBVUMsRUFBU0csR0FDaEJHLE9BQU9DLFVBQVVDLGVBQWVDLEtBQUtDLEVBQWlCWCxJQUFZVyxFQUFnQlgsSUFDcEZLLEVBQVNPLEtBQUtELEVBQWdCWCxHQUFTLElBRXhDVyxFQUFnQlgs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RSxNQUFhRSxVQUErQkMsTUFDMUMsWUFBYUMsR0FDWEMsTUFBTSxJQUFJRCxtRUFGZCwyQkFNQSxtQkFHSSxZQUFhdEYsR0FDWCxHQUFJd0YsT0FBT0MsTUFBTUMsS0FBS0MsTUFBTTNGLElBQzFCLE1BQU0sSUFBSW9GLEVBQXVCcEYsR0FHbkMwRCxLQUFLa0MsR0FBSzVGLEVBR1osV0FDRSxPQUFPMEQsS0FBS2tDLEdBR2QsY0FDRSxPQUFPbEMsS0FBS2tDLEdBQUdDLE1BQU0sS0FBSyxNLG1GQ3RCaEMsa0JBQ0EsWUFDQSxZQUNBLFlBQ0EsWUFFTUMsRUFBSSxJQUFJLEVBQUFDLGFBQWEsSUFBSSxFQUFBakIsV0FBVyx3QkFDeEMsTUFDQSxJQUVJa0IsRUFBSSxJQUFJLEVBQUFELGFBQWEsSUFBSSxFQUFBakIsV0FBVyx3QkFDeEMsTUFDQSxJQUVGLEVBQUFtQixRQUFRLGdCQUFDLEVBQUFqRCxRQUFPLENBQUNNLFFBQVMsQ0FBQ3dDLEVBQUdFLEtBQVFFLFNBQVNDLGVBQWUiLCJmaWxlIjoibWFpbi4yODBmN2RkMTk5MDU1YjkzMjc1ZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdO1xuIFx0XHR2YXIgZXhlY3V0ZU1vZHVsZXMgPSBkYXRhWzJdO1xuXG4gXHRcdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbiBcdFx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcbiBcdFx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG4gXHRcdFx0fVxuIFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG4gXHRcdH1cbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZihwYXJlbnRKc29ucEZ1bmN0aW9uKSBwYXJlbnRKc29ucEZ1bmN0aW9uKGRhdGEpO1xuXG4gXHRcdHdoaWxlKHJlc29sdmVzLmxlbmd0aCkge1xuIFx0XHRcdHJlc29sdmVzLnNoaWZ0KCkoKTtcbiBcdFx0fVxuXG4gXHRcdC8vIGFkZCBlbnRyeSBtb2R1bGVzIGZyb20gbG9hZGVkIGNodW5rIHRvIGRlZmVycmVkIGxpc3RcbiBcdFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2guYXBwbHkoZGVmZXJyZWRNb2R1bGVzLCBleGVjdXRlTW9kdWxlcyB8fCBbXSk7XG5cbiBcdFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiBhbGwgY2h1bmtzIHJlYWR5XG4gXHRcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIFx0fTtcbiBcdGZ1bmN0aW9uIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCkge1xuIFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGRlZmVycmVkTW9kdWxlID0gZGVmZXJyZWRNb2R1bGVzW2ldO1xuIFx0XHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuIFx0XHRcdGZvcih2YXIgaiA9IDE7IGogPCBkZWZlcnJlZE1vZHVsZS5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGRlcElkID0gZGVmZXJyZWRNb2R1bGVbal07XG4gXHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbZGVwSWRdICE9PSAwKSBmdWxmaWxsZWQgPSBmYWxzZTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYoZnVsZmlsbGVkKSB7XG4gXHRcdFx0XHRkZWZlcnJlZE1vZHVsZXMuc3BsaWNlKGktLSwgMSk7XG4gXHRcdFx0XHRyZXN1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IGRlZmVycmVkTW9kdWxlWzBdKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHRyZXR1cm4gcmVzdWx0O1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuIFx0Ly8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4gXHQvLyBQcm9taXNlID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxuIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbiBcdFx0MDogMFxuIFx0fTtcblxuIFx0dmFyIGRlZmVycmVkTW9kdWxlcyA9IFtdO1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHR2YXIganNvbnBBcnJheSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSB8fCBbXTtcbiBcdHZhciBvbGRKc29ucEZ1bmN0aW9uID0ganNvbnBBcnJheS5wdXNoLmJpbmQoanNvbnBBcnJheSk7XG4gXHRqc29ucEFycmF5LnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjaztcbiBcdGpzb25wQXJyYXkgPSBqc29ucEFycmF5LnNsaWNlKCk7XG4gXHRmb3IodmFyIGkgPSAwOyBpIDwganNvbnBBcnJheS5sZW5ndGg7IGkrKykgd2VicGFja0pzb25wQ2FsbGJhY2soanNvbnBBcnJheVtpXSk7XG4gXHR2YXIgcGFyZW50SnNvbnBGdW5jdGlvbiA9IG9sZEpzb25wRnVuY3Rpb247XG5cblxuIFx0Ly8gYWRkIGVudHJ5IG1vZHVsZSB0byBkZWZlcnJlZCBsaXN0XG4gXHRkZWZlcnJlZE1vZHVsZXMucHVzaChbXCJ0alVvXCIsMV0pO1xuIFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiByZWFkeVxuIFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4iLCJleHBvcnQgY29uc3QgY3lyYjUzID0gKHN0cjogc3RyaW5nLCBzZWVkID0gMCkgPT4ge1xuICBsZXQgaDEgPSAweGRlYWRiZWVmIF4gc2VlZFxuICBsZXQgaDIgPSAweDQxYzZjZTU3IF4gc2VlZFxuXG4gIGZvciAobGV0IGkgPSAwLCBjaDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgIGNoID0gc3RyLmNoYXJDb2RlQXQoaSlcbiAgICBoMSA9IE1hdGguaW11bChoMSBeIGNoLCAyNjU0NDM1NzYxKVxuICAgIGgyID0gTWF0aC5pbXVsKGgyIF4gY2gsIDE1OTczMzQ2NzcpXG4gIH1cbiAgaDEgPSBNYXRoLmltdWwoaDEgXiBoMSA+Pj4gMTYsIDIyNDY4MjI1MDcpIF4gTWF0aC5pbXVsKGgyIF4gaDIgPj4+IDEzLCAzMjY2NDg5OTA5KVxuICBoMiA9IE1hdGguaW11bChoMiBeIGgyID4+PiAxNiwgMjI0NjgyMjUwNykgXiBNYXRoLmltdWwoaDEgXiBoMSA+Pj4gMTMsIDMyNjY0ODk5MDkpXG4gIHJldHVybiA0Mjk0OTY3Mjk2ICogKDIwOTcxNTEgJiBoMikgKyAoaDEgPj4+IDApXG59XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEVudHJ5TGlzdCB9IGZyb20gJy4vZW50cnlMaXN0J1xuaW1wb3J0IHsgSm91cm5hbEVudHJ5IH0gZnJvbSAnLi9Kb3VybmFsRW50cnknXG5cbmV4cG9ydCBpbnRlcmZhY2UgSm91cm5hbFByb3BzIHtcbiAgICBlbnRyaWVzOiBKb3VybmFsRW50cnlbXTtcbn1cblxuY29uc3QgRWRpdG9yUGFuZSA9ICgpID0+IHtcbiAgY29uc3Qgc3R5bGVzID0ge1xuICAgIGZsZXhHcm93OiAxLFxuICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgICBoZWlnaHQ6ICc5NiUnXG4gIH1cbiAgcmV0dXJuICg8ZGl2IHN0eWxlPXtzdHlsZXN9IC8+KVxufVxuXG5leHBvcnQgY29uc3QgSm91cm5hbCA9IChwcm9wczogSm91cm5hbFByb3BzKSA9PiB7XG4gIGNvbnN0IHN0eWxlcyA9IHtcbiAgICB3aWR0aDogJzEwMHZ3JyxcbiAgICBoZWlnaHQ6ICcxMDB2aCcsXG4gICAgYmFja2dyb3VuZENvbG9yOiAnZ3JleScsXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGFsaWduSXRlbXM6ICdjZW50ZXInXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgc3R5bGU9e3N0eWxlc30+XG4gICAgICA8RW50cnlMaXN0IGVudHJpZXM9e3Byb3BzLmVudHJpZXN9IC8+XG4gICAgICA8RWRpdG9yUGFuZSAvPlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQge0RhdGVTdHJpbmd9IGZyb20gJy4vZGF0ZVN0cmluZydcblxuY29uc3QgdXVpZHY0ID0gKCkgPT5cbiAgICAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csXG4gICAgICAgIGMgPT4ge1xuICAgICAgICAgICAgY29uc3QgciA9IE1hdGgucmFuZG9tKCkgKiAxNiB8IDAsXG4gICAgICAgICAgICAgICAgdiA9IGMgPT0gJ3gnID8gciA6IChyICYgMHgzIHwgMHg4KTtcbiAgICAgICAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgICAgICAgfSk7XG5cbmV4cG9ydCBjbGFzcyBKb3VybmFsRW50cnkge1xuICAgIHJlYWRvbmx5IGlkOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcmVhZG9ubHkgZGF0ZTogRGF0ZVN0cmluZyxcbiAgICAgICAgcmVhZG9ubHkgdGl0bGU6IHN0cmluZyxcbiAgICAgICAgcmVhZG9ubHkgdGV4dDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuaWQgPSB1dWlkdjQoKVxuICAgIH1cbn1cbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgY3lyYjUzIH0gZnJvbSAnLi9mYW5jeUhhc2gnXG5pbXBvcnQgeyBEYXRlU3RyaW5nIH0gZnJvbSAnLi9kYXRlU3RyaW5nJ1xuaW1wb3J0IHsgSm91cm5hbEVudHJ5IH0gZnJvbSAnLi9Kb3VybmFsRW50cnknXG5pbXBvcnQge3VzZVN0YXRlfSBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGludGVyZmFjZSBFbnRyeUxpc3RQcm9wcyB7XG4gICAgZW50cmllczogSm91cm5hbEVudHJ5W107XG59XG5cbmludGVyZmFjZSBFbnRyeVByb3BzIHtcbiAgICBlbnRyeTogSm91cm5hbEVudHJ5XG59XG5cbmNvbnN0IEVudHJ5ID0gKHByb3BzOiBFbnRyeVByb3BzKSA9PiB7XG5cbiAgICBjb25zdCBbaXNTZWxlY3RlZCwgc2V0U2VsZWN0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gICAgY29uc3Qgc2VsZWN0ID0gKCkgPT4ge1xuICAgICAgICBzZXRTZWxlY3RlZCghaXNTZWxlY3RlZCk7XG4gICAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPXtpc1NlbGVjdGVkID8gJ2VudHJ5IHNlbGVjdGVkJzogJ2VudHJ5J31cbiAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiBpc1NlbGVjdGVkID8gXCJyZWRcIiA6IFwid2hpdGVcIiB9fVxuICAgICAgICBvbkNsaWNrPXtzZWxlY3R9PlxuICAgICAge3Byb3BzLmVudHJ5LnRpdGxlfVxuICAgIDwvZGl2PlxuICApXG59XG5cbmludGVyZmFjZSBEYXRlR3JvdXBQcm9wcyB7XG4gICAgZGF0ZTogc3RyaW5nLFxuICAgIGxpc3RpbmdzOiBKb3VybmFsRW50cnlbXVxufVxuXG5jb25zdCBEYXRlR3JvdXAgPSAocHJvcHM6IERhdGVHcm91cFByb3BzKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9J2RhdGUnIGRhdGEtZGF0ZT17cHJvcHMuZGF0ZX0+XG4gICAgICA8aDE+e3Byb3BzLmRhdGV9PC9oMT5cbiAgICAgIHtwcm9wcy5saXN0aW5ncy5tYXAobCA9PlxuICAgICAgICA8RW50cnkga2V5PXtjeXJiNTMobC50aXRsZSl9IGVudHJ5PXtsfSAvPil9XG4gICAgPC9kaXY+XG4gIClcbn1cblxuY29uc3QgYXNEYXRlS2V5ID0gKHg6IERhdGVTdHJpbmcgfCBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICBpZiAoeCBpbnN0YW5jZW9mIERhdGVTdHJpbmcpIHtcbiAgICByZXR1cm4geC53aXRob3V0VGltZSgpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlU3RyaW5nKHgpLndpdGhvdXRUaW1lKClcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgRW50cnlMaXN0ID0gKHByb3BzOiBFbnRyeUxpc3RQcm9wcykgPT4ge1xuICBjb25zdCBpbml0aWFsOiB7IFtkYXRlS2V5OiBzdHJpbmddOiBKb3VybmFsRW50cnlbXSB9ID0ge31cbiAgY29uc3QgbGlzdGluZ0J5RGF0ZTogeyBbZGF0ZUtleTogc3RyaW5nXTogSm91cm5hbEVudHJ5W10gfSA9XG4gICAgICAgIHByb3BzLmVudHJpZXMucmVkdWNlKChhY2MsIGwpID0+IHtcbiAgICAgICAgICBjb25zdCBkYXRlS2V5ID0gYXNEYXRlS2V5KGwuZGF0ZSlcbiAgICAgICAgICBpZiAoIWFjY1tkYXRlS2V5XSkge1xuICAgICAgICAgICAgYWNjW2RhdGVLZXldID0gW11cbiAgICAgICAgICB9XG4gICAgICAgICAgYWNjW2RhdGVLZXldLnB1c2gobClcbiAgICAgICAgICByZXR1cm4gYWNjXG4gICAgICAgIH0sIGluaXRpYWwpXG5cbiAgY29uc3Qgc3R5bGVzID0ge1xuICAgIGJvcmRlclJpZ2h0OiAnYmxhY2sgNXB4IHNvbGlkJyxcbiAgICB3aWR0aDogJzEwJScsXG4gICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgIGhlaWdodDogJzk2JSdcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9J2xpc3RpbmcnIHN0eWxlPXtzdHlsZXN9PlxuICAgICAge09iamVjdC5rZXlzKGxpc3RpbmdCeURhdGUpXG4gICAgICAgIC5tYXAoZGsgPT4ge1xuICAgICAgICAgIGNvbnN0IGhhc2hlZERhdGUgPSBjeXJiNTMoZGspXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxEYXRlR3JvdXAga2V5PXtoYXNoZWREYXRlfSBkYXRlPXtka30gbGlzdGluZ3M9e2xpc3RpbmdCeURhdGVbZGtdfSAvPilcbiAgICAgICAgfSl9XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImV4cG9ydCBjbGFzcyBNdXN0QmVBVmFsaWREYXRlU3RyaW5nIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvciAoZGF0ZVN0cmluZzogc3RyaW5nKSB7XG4gICAgc3VwZXIoYFwiJHtkYXRlU3RyaW5nfVwiIGlzIG5vdCBhIHZhbGlkIGRhdGUgc3RyaW5nLiBpdCBzaG91bGQgYmUgYW4gSVNPLTg2MDEgc3RyaW5nYClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGF0ZVN0cmluZyB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBkczogc3RyaW5nXG5cbiAgICBjb25zdHJ1Y3RvciAoczogc3RyaW5nKSB7XG4gICAgICBpZiAoTnVtYmVyLmlzTmFOKERhdGUucGFyc2UocykpKSB7XG4gICAgICAgIHRocm93IG5ldyBNdXN0QmVBVmFsaWREYXRlU3RyaW5nKHMpXG4gICAgICB9XG5cbiAgICAgIHRoaXMuZHMgPSBzXG4gICAgfVxuXG4gICAgYXNTdHJpbmcgKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZHNcbiAgICB9XG5cbiAgICB3aXRob3V0VGltZSAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kcy5zcGxpdCgnVCcpWzBdXG4gICAgfVxufVxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBoeWRyYXRlIH0gZnJvbSAncmVhY3QtZG9tJ1xuaW1wb3J0IHsgSm91cm5hbCB9IGZyb20gJy4vam91cm5hbCdcbmltcG9ydCB7IERhdGVTdHJpbmcgfSBmcm9tICcuL2RhdGVTdHJpbmcnXG5pbXBvcnQgeyBKb3VybmFsRW50cnkgfSBmcm9tICcuL0pvdXJuYWxFbnRyeSdcblxuY29uc3QgYSA9IG5ldyBKb3VybmFsRW50cnkobmV3IERhdGVTdHJpbmcoJzIwMjAtMDctMThUMjI6MTA6MDZaJyksXG4gICdvbmUnLFxuICAnJ1xuKVxuY29uc3QgYiA9IG5ldyBKb3VybmFsRW50cnkobmV3IERhdGVTdHJpbmcoJzIwMjAtMDctMTdUMjM6MTA6MDZaJyksXG4gICd0d28nLFxuICAnJ1xuKVxuaHlkcmF0ZSg8Sm91cm5hbCBlbnRyaWVzPXtbYSwgYl19IC8+LCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdCcpKVxuIl0sInNvdXJjZVJvb3QiOiIifQ==